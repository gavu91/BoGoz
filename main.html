<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <title>BYGOZ E-LEARNING PRIVATE LIMITED</title>
    <link rel="icon" href="THEME/favicon.ico" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700&subset=latin,cyrillic-ext" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" type="text/css">
    <link href="THEME/plugins/bootstrap/css/bootstrap.css" rel="stylesheet">
    <link href="THEME/plugins/node-waves/waves.css" rel="stylesheet" />
    <link href="THEME/plugins/animate-css/animate.css" rel="stylesheet" />
    <link href="THEME/css/style.css" rel="stylesheet">
    <link href="THEME/css/themes/all-themes.css" rel="stylesheet" />
</head>

<body class="theme-light-blue">
    <div class="page-loader-wrapper">
        <div class="loader">
            <div class="preloader">
                <div class="spinner-layer pl-light-blue">
                    <div class="circle-clipper left">
                        <div class="circle"></div>
                    </div>
                    <div class="circle-clipper right">
                        <div class="circle"></div>
                    </div>
                </div>
            </div>
            <p>Please wait...</p>
        </div>
    </div>
    <div class="overlay"></div>
    <div class="search-bar">
        <div class="search-icon">
            <i class="material-icons">search</i>
        </div>
        <input type="text" placeholder="Search Titles & Authors">
        <div class="close-search">
            <i class="material-icons">close</i>
        </div>
    </div>
    <nav class="navbar">
        <div class="container-fluid">
            <div class="navbar-header">
                <a href="#" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false"></a>
                <a href="#" class="bars"></a>
                <a href="#" class="lnkHome"><img src="logo.png" alt="Logo" /></a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-collapse">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="#" style="font-size: 24px; font-weight: bolder;">BYGOZ E-LEARNING PRIVATE LIMITED</a>
                    </li>
                    <li>
                        <a href="#" class="lnkHome" data-close="true">
                            <i class="material-icons">home</i>
                        </a>
                    </li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#" class="lnkLogin">
                            <i class="material-icons">shopping_cart</i>
                            <span>Bygoz Store</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <section>
        <aside id="leftsidebar" class="sidebar">
            <div class="menu">
                <ul class="list">
                    <li>
                        <a href="#" class="lnkHome">
                            <i class="material-icons">home</i>
                            <span>HOME</span>
                        </a>
                        <hr style="margin-bottom: 0; margin-top: 0;" />
                    </li>

                    <li>
                        <a href="#" class="lnkLibrary">
                            <i class="material-icons">account_balance</i>
                            <span>LIBRARY</span>
                        </a>
                        <hr style="margin-bottom: 0; margin-top: 0;" />
                    </li>

                    <li>
                        <a href="#" class="lnkStore">
                            <i class="material-icons">store</i>
                            <span>STORE</span>
                        </a>
                        <hr style="margin-bottom: 0; margin-top: 0;" />
                    </li>

                    <li>
                        <a href="#" class="lnkPurchase">
                            <i class="material-icons">attach_money</i>
                            <span>PURCHASE</span>
                        </a>
                        <hr style="margin-bottom: 0; margin-top: 0;" />
                    </li>

                    <li>
                        <a href="#" class="lnkCart">
                            <i class="material-icons">add_shopping_cart</i>
                            <span>CART</span>
                        </a>
                        <hr style="margin-bottom: 0; margin-top: 0;" />
                    </li>

                    <li>
                        <a href="#" class="lnkAuthors">
                            <i class="material-icons">contacts</i>
                            <span>AUTHORS</span>
                        </a>
                        <hr style="margin-bottom: 0; margin-top: 0;" />
                    </li>

                    <li>
                        <a href="#" class="lnkFavouriteBooks">
                            <i class="material-icons">bookmarks</i>
                            <span>FAVOURITE BOOK</span>
                        </a>
                        <hr style="margin-bottom: 0; margin-top: 0;" />
                    </li>

                    <li>
                        <a href="#" class="lnkTranscationHistory">
                            <i class="material-icons">account_balance_wallet</i>
                            <span>TRANSCATION HISTORY</span>
                        </a>
                        <hr style="margin-bottom: 0; margin-top: 0;" />
                    </li>

                    <li>
                        <a href="#" class="lnkMyProfile">
                            <i class="material-icons">account_box</i>
                            <span>MY PROFILE</span>
                        </a>
                        <hr style="margin-bottom: 0; margin-top: 0;" />
                    </li>

                    <li>
                        <a href="#" class="lnkChangePassword">
                            <i class="material-icons">settings_applications</i>
                            <span>CHANGE PASSWORD</span>
                        </a>
                        <hr style="margin-bottom: 0; margin-top: 0;" />
                    </li>

                    <li>
                        <a href="#" class="lnkSellWithUs">
                            <i class="material-icons">shopping_cart</i>
                            <span>SELL WITH US</span>
                        </a>
                        <hr style="margin-bottom: 0; margin-top: 0;" />
                    </li>

                    <li>
                        <a href="#" class="lnkLogout">
                            <i class="material-icons">lock</i>
                            <span>LOGOUT</span>
                        </a>
                        <hr style="margin-bottom: 0; margin-top: 0;" />
                    </li>
                </ul>
            </div>
        </aside>
    </section>
    <section class="content">
        <div class="container-fluid">

            <div class="row clearfix">
                <div class="col-md-12 bindDashboardData">

                </div>
            </div>

        </div>
    </section>
    <script>
        if (typeof module === 'object') {
            window.module = module;
            module = undefined;
        }
    </script>
    <script src="THEME/plugins/jquery/jquery.min.js"></script>
    <script src="THEME/plugins/bootstrap/js/bootstrap.js"></script>
    <script src="THEME/plugins/bootstrap-select/js/bootstrap-select.js"></script>
    <script src="THEME/plugins/jquery-slimscroll/jquery.slimscroll.js"></script>
    <script src="THEME/plugins/node-waves/waves.js"></script>
    <script src="THEME/js/admin.js"></script>
    <script src="THEME/js/demo.js"></script>
    <script src="THEME/js/custom.js"></script>

    <script>
        var lstBooks = [];

        $(function() {
            var macaddress = require('macaddress');
            macaddress.one(function(err, mac) {
                window.localStorage.setItem("getMacAddress", mac);
            });

            $.post(apiUrl + "dashboard_detail", function(data) {
                if (data.status === true) {
                    lstBooks = JSON.parse(window.localStorage.getItem("lstBooks")) || [];

                    // Top Newest Books
                    var strTopNewBook = '';
                    var arrTopNewBook = data.top_search_book;
                    strTopNewBook = '<div class="card"><div class="body"><div class="row"><div class="col-md-12">';
                    strTopNewBook = strTopNewBook + '<h4 style="color: #03A9F4;">TOP NEWEST BOOKS <a href="#" onclick="redirectToBooklist1(\'Top Newest\')" style="float: right;"> MORE ></a></h4></div>';

                    for (i = 0; i < arrTopNewBook.length; i++) {
                        if (i == 4) {
                            break;
                        }

                        var filtered = lstBooks.filter(function(value) {
                            return value == arrTopNewBook[i].book_id;
                        });

                        strTopNewBook = strTopNewBook + '<div class="col-md-3"><div class="thumbnail">';
                        strTopNewBook = strTopNewBook + '<img src="' + frontCoverUrl + arrTopNewBook[i].front_cover + '" style="height: 300px; width: 250px;" />';
                        strTopNewBook = strTopNewBook + '<div class="caption">';
                        strTopNewBook = strTopNewBook + '<h3>' + arrTopNewBook[i].name + '</h3>';

                        if (filtered.length > 0) {
                            strTopNewBook = strTopNewBook + '<p><button onclick="openPDf(\'' + arrTopNewBook[i].file_path + '\')" class="btn btn-success">VIEW</button>';
                        } else {
                            strTopNewBook = strTopNewBook + '<p><button onclick="download(' + arrTopNewBook[i].book_id + ')" class="btn btn-success">DOWNLOAD</button>';
                        }

                        strTopNewBook = strTopNewBook + ' <button onclick="#" class="btn btn-primary">BUY NOW</button></p>';
                        strTopNewBook = strTopNewBook + '</div></div></div>';
                    }

                    strTopNewBook = strTopNewBook + '</div></div></div>';
                    $(".bindDashboardData").append(strTopNewBook);

                    // Popular Books
                    var strPopularBook = '';
                    var arrPopularBook = data.popular_book;
                    strPopularBook = '<div class="card"><div class="body"><div class="row"><div class="col-md-12">';
                    strPopularBook = strPopularBook + '<h4 style="color: #03A9F4;">POPULAR BOOKS <a href="#" onclick="redirectToBooklist1(\'POPULAR\')" style="float: right;"> MORE ></a></h4></div>';

                    for (i = 0; i < arrPopularBook.length; i++) {
                        if (i == 4) {
                            break;
                        }

                        var filtered = lstBooks.filter(function(value) {
                            return value == arrPopularBook[i].book_id;
                        });

                        strPopularBook = strPopularBook + '<div class="col-md-3"><div class="thumbnail">';
                        strPopularBook = strPopularBook + '<img src="' + frontCoverUrl + arrPopularBook[i].front_cover + '" style="height: 300px; width: 250px;" />';
                        strPopularBook = strPopularBook + '<div class="caption">';
                        strPopularBook = strPopularBook + '<h3>' + arrPopularBook[i].name + '</h3>';

                        if (filtered.length > 0) {
                            strPopularBook = strPopularBook + '<p><button onclick="openPDf(\'' + arrPopularBook[i].file_path + '\')" class="btn btn-success">VIEW</button>';
                        } else {
                            strPopularBook = strPopularBook + '<p><button onclick="download(' + arrPopularBook[i].book_id + ')" class="btn btn-success">DOWNLOAD</button>';
                        }

                        strPopularBook = strPopularBook + ' <button onclick="#" class="btn btn-primary">BUY NOW</button></p>';
                        strPopularBook = strPopularBook + '</div></div></div>';
                    }

                    strPopularBook = strPopularBook + '</div></div></div>';
                    $(".bindDashboardData").append(strPopularBook);

                    // Recommended Books
                    var strRecommendedBook = '';
                    var arrRecommendedBook = data.recommended_book;
                    strRecommendedBook = '<div class="card"><div class="body"><div class="row"><div class="col-md-12">';
                    strRecommendedBook = strRecommendedBook + '<h4 style="color: #03A9F4;">RECOMMENDED BOOKS <a href="#"  onclick="redirectToBooklist1(\'RECOMMENDED\')" style="float: right;"> MORE ></a></h4></div>';

                    for (i = 0; i < arrRecommendedBook.length; i++) {
                        if (i == 4) {
                            break;
                        }

                        var filtered = lstBooks.filter(function(value) {
                            return value == arrRecommendedBook[i].book_id;
                        });

                        strRecommendedBook = strRecommendedBook + '<div class="col-md-3"><div class="thumbnail">';
                        strRecommendedBook = strRecommendedBook + '<img src="' + frontCoverUrl + arrRecommendedBook[i].front_cover + '" style="height: 300px; width: 250px;" />';
                        strRecommendedBook = strRecommendedBook + '<div class="caption">';
                        strRecommendedBook = strRecommendedBook + '<h3>' + arrRecommendedBook[i].name + '</h3>';

                        if (filtered.length > 0) {
                            strRecommendedBook = strRecommendedBook + '<p><button onclick="openPDf(\'' + arrRecommendedBook[i].file_path + '\')" class="btn btn-success">VIEW</button>';
                        } else {
                            strRecommendedBook = strRecommendedBook + '<p><button onclick="download(' + arrRecommendedBook[i].book_id + ')" class="btn btn-success">DOWNLOAD</button>';
                        }

                        strRecommendedBook = strRecommendedBook + ' <button onclick="#" class="btn btn-primary">BUY NOW</button></p>';
                        strRecommendedBook = strRecommendedBook + '</div></div></div>';
                    }

                    strRecommendedBook = strRecommendedBook + '</div></div></div>';
                    $(".bindDashboardData").append(strRecommendedBook);

                    // Top Selling Books
                    var strTopSellingBook = '';
                    var arrTopSellingBook = data.top_sell_book;
                    strTopSellingBook = '<div class="card"><div class="body"><div class="row"><div class="col-md-12">';
                    strTopSellingBook = strTopSellingBook + '<h4 style="color: #03A9F4;">TOP SELLING BOOKS <a href="#"  onclick="redirectToBooklist1(\'TOP SELLING\')" style="float: right;"> MORE ></a></h4></div>';

                    for (i = 0; i < arrTopSellingBook.length; i++) {
                        if (i == 4) {
                            break;
                        }

                        var filtered = lstBooks.filter(function(value) {
                            return value == arrTopSellingBook[i].book_id;
                        });

                        strTopSellingBook = strTopSellingBook + '<div class="col-md-3"><div class="thumbnail">';
                        strTopSellingBook = strTopSellingBook + '<img src="' + frontCoverUrl + arrTopSellingBook[i].front_cover + '" style="height: 300px; width: 250px;" />';
                        strTopSellingBook = strTopSellingBook + '<div class="caption">';
                        strTopSellingBook = strTopSellingBook + '<h3>' + arrTopSellingBook[i].name + '</h3>';

                        if (filtered.length > 0) {
                            strTopSellingBook = strTopSellingBook + '<p><button onclick="openPDf(\'' + arrTopSellingBook[i].file_path + '\')" class="btn btn-success">VIEW</button>';
                        } else {
                            strTopSellingBook = strTopSellingBook + '<p><button onclick="download(' + arrTopSellingBook[i].book_id + ')" class="btn btn-success">DOWNLOAD</button>';
                        }

                        strTopSellingBook = strTopSellingBook + ' <button onclick="#" class="btn btn-primary">BUY NOW</button></p>';
                        strTopSellingBook = strTopSellingBook + '</div></div></div>';
                    }

                    strTopSellingBook = strTopSellingBook + '</div></div></div>';
                    $(".bindDashboardData").append(strTopSellingBook);
                }
            });
        });

        function redirectToBooklist1(detail) {
            window.localStorage.removeItem("booksItem");
            window.localStorage.setItem("booksItem", detail);
            window.location.href = "booklist1.html";
        }

        function openPDf(url) {
            window.localStorage.removeItem("pdfUrl");
            window.localStorage.setItem("pdfUrl", url);
            const {
                BrowserWindow
            } = require('electron').remote
            var remote = require('electron').remote;
            var currentWindow = remote.getCurrentWindow();
            const win = new BrowserWindow({
                width: 1600,
                height: 900,
                parent: currentWindow
            })
            win.setMenu(null);
            win.loadFile('viewer.html')
        }

        function openVIDEO(url) {
            window.localStorage.setItem("linkURL", url);
            window.location.href = "videoplayer.html";
        }

        function download(id) {
            lstBooks = JSON.parse(window.localStorage.getItem("lstBooks")) || [];

            var filtered = lstBooks.filter(function(value) {
                return value == id;
            });

            if (filtered.length > 0) {
                alert("Book is already in demos.");
            } else {
                lstBooks.push(id.toString());
                window.localStorage.setItem("lstBooks", JSON.stringify(lstBooks));
                alert("Books successfully downloaded.");
            }
            //window.localStorage.removeItem("lstBooks")
        }
    </script>

    <script>
        if (window.module) module = window.module;
    </script>
</body>

</html>